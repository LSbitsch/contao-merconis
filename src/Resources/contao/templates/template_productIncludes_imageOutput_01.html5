<?php
/*
 * Prepare the html code for the gallery. If a variant is selected and it has its own images,
 * we use them to create the gallery. If not, we use the product's images.
 */
$obj_tmp_productOrVariant = null;
if ($this->objProduct->_variantIsSelected) {
	$obj_tmp_productOrVariant = &$this->objProduct->_selectedVariant;
} else {
	$obj_tmp_productOrVariant = &$this->objProduct;
}

dump($obj_tmp_productOrVariant);
if ($obj_tmp_productOrVariant !== null) {
	?>
	<div class="galleryContainer lsNavtabGalleryProductDetails">

        <?php
        //create Gallery from Product Or Variant
        foreach($obj_tmp_productOrVariant->_createGallery()->getImages() as $image) {
            ?>
            <div class="imageContainer">
                <?php if ($image->href) { ?>
                    <a class="lsjs-image-zoomer lsjs-image-zoomer-applied" href="<?= $image->href ?>" title="">
                        <img class="productImage" src="<?= $image->singleSRC ?>" alt="">
                    </a>
                <?php } else { ?>
                    <img class="productImage" src="<?= $image->singleSRC ?>" alt="">
                <?php } ?>
            </div>
            <?php
        }

        ?>

	</div>
	<?php
}
?>